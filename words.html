<script>
function splitIntoSentences(text) {
    // Trim whitespace and split the text using regex for punctuation marks followed by whitespace or end of line
    const sentences = text.match(/[^.!?]*[.!?]/g);
    // Return an array of trimmed sentences, filtering out any empty ones
    return sentences ? sentences.map(sentence => sentence.trim()) : [];
}

function sigmoid ( x )
{
  return 1 / ( 1 + ( 2.71**(-x) ) );
}

function predict ( series, number_of_parallel_universes, weights )
{
  let sum = 0;
  for(let 
}

let text = "Что это там вдали находится? Это такой автомобиль там красуется";
let words = text.match(/[а-я]+/gi).map(e=>e.toLowerCase());
words = [...new Set ( words ) ];
let sentences = splitIntoSentences(text);
let inputs = [];
for(let s=0;s<sentences.length;s++)
{
  let sentece = sentences [ s ];
  if ( !s )
  {
    
  }
}


/*. Что же это за автомобиль? Он слишком маленький и довольно плохой. А тот автомобиль тоже плохой? Тот автомобиль новый и хороший, но слишком большой. Какой этот ковер? Он большой и очень красивый. Но ковер ли это? Разве это не картина? Да, это большая и довольно красивая картина. Маленькая кошка белая, а большая кошка черная. Эта маленькая кошка тоже черная. Что это? Это дом. Какой он? Он большой. Он новый? Нет, он довольно старый";*/

let stored_words = [
  { value: "а", type: "union"},
  { value: "автомобиль", type: "noun", singular:"true", gender: "masculine", case: "nominative", living: "false" },
  { value: "белая", type: "adjective", gender: "feminine", case: "nominative", degree: "none" },
  { value: "большая", type: "adjective", gender: "feminine", case: "nominative", degree: "none" },
  { value: "большой", type: "adjective", gender: "masculine", case: "nominative", degree: "none" },
  { value: "да", type: "union"},
  { value: "довольно", type: "adverb"},
  { value: "дом", type: "noun", singular:"true", gender: "masculine", case: "nominative", living: "false" },
  { value: "и", type: "union"},
  { value: "какой", type: "pronoun", singular:"true", gender: "masculine", case: "nominative" },
  { value: "картина", type: "noun", singular:"true", gender: "feminine", case: "nominative", living: "false" },
  { value: "ковер", type: "noun", singular:"true", gender: "masculine", case: "nominative", living: "false" },
  { value: "кошка", type: "noun", singular:"true", gender: "feminine", case: "nominative", living: "true" },
  { value: "красивая", type: "adjective", gender: "feminine", case: "nominative", degree: "none" },
  { value: "красивый", type: "adjective", gender: "masculine", case: "nominative", degree: "none" },
  { value: "ли", type: "particle"},
  { value: "маленькая", type: "adjective", gender: "feminine", case: "nominative", degree: "none" },
  { value: "маленький", type: "adjective", gender: "masculine", case: "nominative", degree: "none" },
  { value: "не", type: "particle", },
  { value: "нет", type: "union"},
  { value: "но", type: "union"},
  { value: "новый", type: "adjective", gender: "masculine", case: "nominative", degree: "none" },
  { value: "он", type: "pronoun", singular:"true", gender: "masculine", case: "nominative", living: "true" },
  { value: "очень", type: "adverb"},
  { value: "плохой", type: "adjective", gender: "masculine", case: "nominative", degree: "none" },
  { value: "разве", type: "particle"},
  { value: "слишком", type: "adverb"},
  { value: "старый", type: "adjective", gender: "masculine", case: "nominative", degree: "none" },
  { value: "тоже", type: "adverb"},
  { value: "тот", type: "pronoun", singular:"true", gender: "masculine", case: "nominative" },
  { value: "черная", type: "adjective", gender: "feminine", case: "nominative", degree: "none" },
  { value: "что", type: "pronoun", singular:"true", gender: "neutral", case: "nominative" },
  { value: "хороший", type: "adjective", gender: "masculine", case: "nominative", degree: "none" },
  { value: "эта", type: "pronoun", singular:"true", gender: "feminine", case: "nominative" },    { value: "это", type: "pronoun", singular:"true", gender: "neutral", case: "nominative" },    { value: "этот", type: "pronoun", singular:"true", gender: "masculine", case: "nominative" },  
];

let names = "adjective adverb noun particle pronoun union verb".split(` `);


let her = [
  { value: "больше", type: "adjective", gender: "male", case: "instrumental", degree: "comparative" },
  { value: "в", type: "preposition" },
  { value: "времена", type: "noun", singular:"false", gender: "neutral", case: "nominative", living: "false" },
  { value: "год", type: "noun", singular:"true", gender: "male", case: "nominative", living: "false" },
  { value: "году", type: "noun", singular:"true", gender: "male", case: "prepositional", living: "false" },
  { value: "годовом", type: "adjective", singular:"true", gender: "male", case: "instrumental", degree: "none" },
  { value: "достигала", aspect: "imperfective", type: "verb", singular:"true", tense: "past", gender: "female"},
  { value: "есть",aspect: "imperfective",  type: "verb", singular:"true", tense: "present"},
  { value: "еще", type: "adverb"},
  { value: "закончила",aspect: "perfective",  type: "verb", singular:"true", tense: "past", gender: "female"},
  { value: "зарегистрирована",aspect: "perfective",  type: "participle", singular:"true", gender: "female"},
  { value: "здании", type: "noun", singular:"true", gender: "female", case: "prepositional", living: "false" },
  { value: "и", type: "union"},
  { value: "компании", type: "noun", singular:"true", gender: "female", case: "genitive", living: "false" },
  { value: "компанию", type: "noun", singular:"true", gender: "female", case: "accusative", living: "false" },
  { value: "компания", type: "noun", singular:"true", gender: "female", case: "nominative", living: "false" },
  { value: "лучшие", type: "adjective", singular:"false", degree: "superlative", case: "nominative"},
  { value: "миллион", type: "noun", singular:"true", gender: "male", case: "nominative", living: "false" },
  { value: "миллиона", type: "noun", singular:"true", gender: "male", case: "genitive", living: "false" },
  { value: "миллионов", type: "noun", singular:"false", gender: "male", case: "genitive", living: "false" },
  { value: "не", type: "particle", },
  { value: "нее", type: "pronoun", singular:"true", gender: "female", case: "genitive" },
  { value: "никак", type: "adverb", },
  { value: "оборот", type: "noun", singular:"true", gender: "male", case: "nominative", living: "false" },
  { value: "объясняет", aspect: "imperfective", type: "verb", singular:"true", tense: "present"},
  { value: "огромный", type: "adjective", singular:"true", gender: "male", degree: "none"},
  { value: "офисном", type: "noun", singular:"true", gender: "male", case: "prepositional" },
  { value: "отчете", type: "noun", singular:"true", gender: "male", case: "prepositional", living: "false" },
  { value: "почти", type: "adverb" },
  { value: "прибыль", type: "noun", singular:"true", gender: "female", case: "nominative", living: "false" },
  { value: "прошлая", type: "adjective", singular:"true", gender: "female", degree: "none", case: "nominative"},
  { value: "прошлый", type: "adjective", singular:"true", gender: "male", degree: "none", case: "nominative"},
  { value: "руководители", type: "noun", singular:"false", gender: "male", case: "nominative" },
  { value: "с", type: "preposition" },
  { value: "своем", type: "pronoun", singular:"true", gender: "male", case: "prepositional" },
  { value: "свой", type: "pronoun", singular:"true", gender: "male", case: "nominative" },
  { value: "снизился",aspect: "perfective",  type: "verb", singular:"true", tense: "past", gender: "male"},
  { value: "составил", aspect: "perfective", type: "verb", singular:"true", tense: "past", gender: "male"},
  { value: "таллинна", type: "noun", singular:"true", gender: "male", case: "genitive" },
  { value: "у", type: "preposition" },
  { value: "убытки", type: "noun", singular:"false", gender: "male", case: "nominative" },
  { value: "убытком", type: "noun", singular:"true", gender: "male", case: "instrumental" },
  { value: "убыток", type: "noun", singular:"true", gender: "male", case: "nominative" },
  { value: "уполномочили",aspect: "perfective",  type: "verb", singular:"false", tense: "past"},
  { value: "фирма", type: "noun", singular:"true", gender: "female", case: "nominative" },
  { value: "центре", type: "noun", singular:"true", gender: "male", case: "prepositional" },
  { value: "эстонская", type: "adjective", singular:"true", gender: "female", case: "nominative" },
  { value: "эстонский", type: "adjective", singular:"true", gender: "male", case: "nominative" },
  { value: "этой", type: "pronoun", singular:"true", gender: "female", case: "genitive" },
  { value: "этом", type: "pronoun", singular:"true", gender: "male", case: "prepositional" },
];

function increaseProperty(object, property)
{
  if(object.hasOwnProperty(property)) object[property] += 1;
  else object[property] = 1;
}

function process()
{
  let sentences = splitIntoSentences(text);
  let average_length = 3;
  let first_type = Array.from({length: names.length}, _=>0 );
  one: for ( let s=0; s<sentences.length; s++ )
  {
    let sentence = sentences[s];
    let words = sentence.match(/[а-яa-z0-9\-]+/gi).map(e=>e.toLowerCase());
    for ( let w=0;w<words.length;w++ )
    {
      if(w == average_length) break;
      let word = words[w];
      let found = 0;
      for( let sw = 0; sw < stored_words.length; sw++ )
      {
        let stored_word = stored_words[sw];
        if ( stored_word [ "value" ] == word )
        {
          if ( !w )
          {
            first_type [ names.indexOf ( stored_word [ "type" ] ) ] += 1;
          }
        }
      }
    }
  }
  console.log(first_type);
}
process();
</script>